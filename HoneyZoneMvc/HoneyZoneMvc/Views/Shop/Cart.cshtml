@using HoneyZoneMvc.Infrastructure.Data.Models
@model IEnumerable<ProductCartViewModel>


    <div class="cart-container">
        <form asp-action="CartConfirmed" method="post">

        <section class="products-cart">
            
                @for (var i = 0; i < Model.Count(); i++)
                {
                    <section class="product-container">
                        <input type="text" name="[@i].Id" value="@Model.ElementAt(i).Id" hidden />
                        
                            <label>@Model.ElementAt(i).Name</label>
                       
                        
                            <img src="~/productImages/@Model.ElementAt(i).MainImageName" />
                        
                        
                            <label>@Model.ElementAt(i).Price</label>
                       
                       
                            <input type="number" name="[@i].Quantity" value="@Model.ElementAt(i).Quantity" />
                       
                    </section>
                }
          
            }
        </section>
        <section class="aside-checkout bg-light">
            <h2>
                Обща сметка <span @Model.Select(p=>p.Price).Sum()</span>
            </h2>
            <button type="submit" class="btn btn-success">Поръчай!</button>
        </section>

        </form>
        

    </div>
