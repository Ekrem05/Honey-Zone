@model DiscountByCategoryViewModel
@{
}
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>


<div class="actions bg-warning p-2 d-flex d-flex justify-content-around w-50 ">
   
    <button class="btn btn-outline-primary btn-lg dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Добави
    </button>
    <ul class="dropdown-menu">
        <li>
            <a class="btn btn-outline-success btn-lg dropdown-item" asp-action="AddProduct">
                Добави продукт
            </a>

        </li>
        <li>
            <a class="btn btn-outline-success btn-lg dropdown-item" data-bs-toggle="modal" data-bs-target="#addNewCategory">
                Добави Категория на продукт
            </a>
        </li>
    </ul>
    <div class="modal fade" id="addNewCategory" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form asp-action="AddProductCategory" method="post" class="d-inline-block">
                    <div class="modal-body">
                        <strong>Внимание!</strong>Ще добавите нова категория на продукт. Сигурни ли сте?
                        <label>Въведи име на категорията</label>
                        <input type="text" name="Name" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отказ</button>

                        <button type="submit" class="btn btn-outline-success">
                            Добави
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <button class="btn btn-outline-danger btn-lg dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Изтрий
    </button>
    <ul class="dropdown-menu">
        <li>
            <a class="btn btn-outline-success btn-lg dropdown-item" asp-action="DeleteProductWithId">
                Изтрий продукт по Id
            </a>

        </li>
        <li>
            <a class="btn btn-outline-success btn-lg dropdown-item" asp-action="DeleteProductWithName">
                Изтрий продукт по име
            </a>
        </li>
    </ul>
    <button class="btn btn-outline-success btn-lg dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Промоции
    </button>
    <ul class="dropdown-menu">
        <li>
            <a class="btn btn-outline-success btn-lg dropdown-item" data-bs-toggle="modal"
                    data-bs-target="#discount-by-category">
                Промоция по категория
            </a>

        </li>
        <li>
            <a class="btn btn-outline-success btn-lg dropdown-item" data-bs-toggle="modal"
               data-bs-target="#cancel-discount-by-category">
                Премахни промоция по категория
            </a>
        </li>
    </ul>
    <!-- Modal -->
    <div class="modal fade" id="discount-by-category" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form asp-action="SetDiscountByCategory" method="post" class="d-inline-block">
                    <div class="modal-body">
                        <strong>Внимание!</strong>Ще добавите нова категория на продукт. Сигурни ли сте?
                        <div class="mb-3">
                            <label>Избери категория</label>
                            <select asp-for="CategoryId" class="form-control" aria-required="true">
                                <option disabled selected value="">Select Category...</option>
                                @foreach (var category in Model.Categories)
                                {
                                    <option value="@category.Id">@category.Name</option>
                                }
                            </select>
                            <span asp-validation-for="CategoryId" class="bg-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>Въведи % промоция</label>
                            <input asp-for="Discount" name="Discount" />
                            <span asp-validation-for="Discount" class="bg-danger"></span>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отказ</button>

                        <button type="submit" class="btn btn-outline-success">
                            Добави
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="cancel-discount-by-category" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form asp-action="CancelDiscountByCategory" method="post" class="d-inline-block">
                    <div class="modal-body">
                        <strong>Внимание!</strong>Ще премахнете промоцията на всички продукти от тази категория. Сигурни ли сте?
                        <div class="mb-3">
                            <label>Избери категория</label>
                            <select name="Id" class="form-control" aria-required="true">
                                <option disabled selected value="">Select Category...</option>
                                @foreach (var category in Model.Categories)
                                {
                                    <option value="@category.Id">@category.Name</option>
                                }
                            </select>
                            <span asp-validation-for="CategoryId" class="bg-danger"></span>
                        </div>
                        <input hidden asp-for="Discount" value="10"/>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отказ</button>

                        <button type="submit" class="btn btn-outline-success">
                            Добави
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
</div>