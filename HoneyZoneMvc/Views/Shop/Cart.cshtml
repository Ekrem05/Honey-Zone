@using HoneyZoneMvc.Infrastructure.Data.Models
@model IEnumerable<ProductCartViewModel>


    <div class="cart-container">
        <form asp-action="CartConfirmed" method="post" class="cart-information">

        <section class="products-cart">
            
                @for (var i = 0; i < Model.Count(); i++)
                {
                    <section class="product-container">
                        <input type="text" name="[@i].Id" value="@Model.ElementAt(i).Id" hidden />
                            <img src="~/productImages/@Model.ElementAt(i).MainImageName" />
                            <label class="name">@Model.ElementAt(i).Name</label>

                            <label class="price">@Model.ElementAt(i).Price</label>


                            <input class="quantity" type="number" name="[@i].Quantity" value="@Model.ElementAt(i).Quantity" />
                       
                    </section>
                }
          
            }
        </section>
        <section class="aside-checkout">
            <h2>
                @Model.Sum(p => p.Price)лв <span @Model.Select(p => p.Price).Sum()</span>
            </h2>
            <ul type="none">
                <li class="product-total-price">Цена на продуктите: <span>@Model.Sum(p=>p.Price)лв</span></li>
                <li class="disscount">Намаление: <span>-@Model.Sum(p => p.Price*0.2)лв.</span></li>
                <li class="total-sum">Обща сума с ДДС: <span>399лв.</span></li>
            </ul>
            <button type="submit" class="btn btn-success">Поръчай!</button>
        </section>

        </form>
        

    </div>
